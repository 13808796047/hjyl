<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>账户充值</title>
    <link rel="stylesheet" href="__JS__/layer/layui/css/layui.css" />
  </head>
  <body>
    <div class="layui-tab">
      <ul class="layui-tab-title">
        <li class="layui-this">银行卡充值</li>
        <li>USDT充值</li>
      </ul>
      <div class="layui-tab-content">
        <div class="layui-tab-item layui-show">
          1. 高度默认自适应，也可以随意固宽。
          <br />2. Tab进行了响应式处理，所以无需担心数量多少。
        </div>
        <div class="layui-tab-item">内容2</div>
      </div>
    </div>
    <script src="__JS__/layer/layui/layui.js"></script>
    <script>
      layui.use(["jquery", "form"], function () {
        var form = layui.form(),
          layer = layui.layer,
          element = layui.element,
          $ = layui.jquery;

        //监听提交
        form.on("submit(usdtForm)", function (data) {
          $.ajax({
            url: "/user/usdt-account",
            type: "post",
            data: data.field,
            beforeSend: function () {
              this.layerIndex = layer.load(0, { shade: [0.5, "#393D49"] });
            },
            success: function (data) {
              if (data.code == 201) {
                layer.msg(
                  data.message,
                  {
                    icon: 6, //成功的表情
                    time: 1000, //1秒关闭（如果不配置，默认是3秒）
                  },
                  function () {
                    location.reload();
                  }
                );
              } else {
                layer.msg(data.message, { icon: 5 }); //失败的表情
                return;
              }
            },
            complete: function () {
              layer.close(this.layerIndex);
            },
          });
          return false;
        });
      });
    </script>
  </body>
</html>
